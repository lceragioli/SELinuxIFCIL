(classorder (file))
(class file (read write open getattr))

(type a)

(block A
    (call m (a))
    (macro m ((type x))
	(allow x x (file (read)))
        (call m1)
    )
    (macro m1 ()
        (call m2)
    )
    (macro m2 ()
        (type a)
    )
)
